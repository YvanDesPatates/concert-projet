{% extends 'base.html.twig' %}

{% block title %}Concerts{% endblock %}

{% block body %}
    <div id="years">
        {% set classe = year=='2021' ? 'selected' : 'notSelected' %}
        <a class="{{ classe }}" href="{{ path('concert_par_annee', {year: '2021'}) }}">2021</a>
        {% set classe = year=='2022' ? 'selected' : 'notSelected' %}
        <a class="{{ classe }}" href="{{ path('concert_par_annee', {year: '2022'}) }}">2022</a>
        {% set classe = year=="2023" ? 'selected' : 'notSelected' %}
        <a class="{{ classe }}" href="{{ path('concert_par_annee', {year: '2023'}) }}">2023</a>
        {% set classe = year=='2024' ? 'selected' : 'notSelected' %}
        <a class="{{ classe }}" href="{{ path('concert_par_annee', {year: '2024'}) }}">2024</a>
        {% set classe = year=='2025' ? 'selected' : 'notSelected' %}
        <a class="{{ classe }}" href="{{ path('concert_par_annee', {year: '2025'}) }}">2025</a>
    </div>
    <table class="table table-striped">
        <thead>
        <tr>
            <th scope="col">Nom</th>
            <th scope="col">Artists</th>
            <th scope="col">Date</th>
            <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for concert in concerts %}
            <tr>
                <td> <a href="{{ path('concert', {id: concert.id}) }}">{{ concert.name }}</a> </td>
                <td> {% for artist in concert.artistsPerformers %} {{ artist.name }} | {% endfor %}</td>
                <td> {% if concert.date %} {{ concert.date.format('d-m-Y H:i') }} {% endif %} </td>
                <td>
                    <a href="{{ path('concert_delete', {id: concert.id}) }}"> <button type="button" class="btn btn-danger btn-sm">X</button> </a>
                    <a href="{{ path('concert_update', {id: concert.id}) }}"> <button type="button" class="btn btn-info btn-sm">update</button> </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div>
        <a href="{{ path('concert_create') }}"> cr√©er un nouveau concert </a>
    </div>
{% endblock %}

{% block style %}
    <style>
        #years{
            margin: 2%;
            width: 100%;
            display: flex;
            justify-content: center;
        }

        #years>a{
            margin-right: 6%;
        }

        .notSelected{
            color: coral;
        }

        .selected{
            color: indianred;
        }
    </style>
{% endblock %}

